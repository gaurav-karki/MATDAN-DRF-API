{
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "electionId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "candidateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "party",
          "type": "string"
        }
      ],
      "name": "CandidateAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "electionId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "title",
          "type": "string"
        }
      ],
      "name": "ElectionCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "electionId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "name": "ElectionStatusChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "electionId",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "voter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "candidateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "voteHash",
          "type": "bytes32"
        }
      ],
      "name": "VoteCast",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_candidateId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_party",
          "type": "string"
        }
      ],
      "name": "addCandidate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "candidates",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "party",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "voteCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_candidateId",
          "type": "uint256"
        }
      ],
      "name": "castVote",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "_voter",
          "type": "address"
        }
      ],
      "name": "checkIfVoted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_title",
          "type": "string"
        }
      ],
      "name": "createElection",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "elections",
      "outputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "candidateCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_candidateId",
          "type": "uint256"
        }
      ],
      "name": "getCandidate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "party",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "voteCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        }
      ],
      "name": "getElection",
      "outputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "candidateCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "_voter",
          "type": "address"
        }
      ],
      "name": "getVoteHash",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "hasVoted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_electionId",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "_isActive",
          "type": "bool"
        }
      ],
      "name": "setElectionStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "voteHashes",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "608060405234801561001057600080fd5b50600080546001600160a01b0319163317905561183a806100326000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063893d20e81161008c578063bd27eca011610066578063bd27eca01461025b578063e3b9e2fa1461026e578063eb309f6514610281578063eb8b261f1461029457600080fd5b8063893d20e8146101d55780638da5cb5b146101fa5780639af06cd91461020d57600080fd5b80634771b573116100c85780634771b573146101795780634a3ccc961461019c5780636ab29f83146101af5780637d143605146101c257600080fd5b80631c1d3baf146100ef5780631eccd22f146101045780632b28937114610130575b600080fd5b6101026100fd366004611245565b6102a7565b005b6101176101123660046112d7565b610566565b604051610127949392919061136c565b60405180910390f35b61016b61013e3660046113a9565b81516020818401810180516004825292820194820194909420919093529091526000908152604090205481565b604051908152602001610127565b61018c610187366004611407565b6106fb565b6040516101279493929190611444565b61018c6101aa366004611407565b61088e565b6101026101bd36600461147d565b6109d5565b61016b6101d03660046113a9565b610acc565b6000546001600160a01b03165b6040516001600160a01b039091168152602001610127565b6000546101e2906001600160a01b031681565b61024b61021b3660046113a9565b81516020818401810180516003825292820194820194909420919093529091526000908152604090205460ff1681565b6040519015158152602001610127565b6101026102693660046114c9565b610b0d565b61016b61027c3660046112d7565b610cb2565b61011761028f3660046112d7565b61100a565b61024b6102a23660046113a9565b61115e565b6000546001600160a01b031633146102da5760405162461bcd60e51b81526004016102d19061152d565b60405180910390fd5b8360006001826040516102ed919061158a565b9081526040519081900360200190208054610307906115a6565b9050116103265760405162461bcd60e51b81526004016102d1906115e0565b600185604051610336919061158a565b9081526040519081900360200190206002015460ff16156103bf5760405162461bcd60e51b815260206004820152603b60248201527f456c656374696f6e206163746976653a2043616e6e6f74206164642063616e6460448201527f696461746573207768696c6520766f74696e67206973206f70656e000000000060648201526084016102d1565b6002856040516103cf919061158a565b908152604080516020928190038301902060008781529252902054156104535760405162461bcd60e51b815260206004820152603360248201527f43616e646964617465206578697374733a20546869732063616e646964617465604482015272081251081a5cc8185b1c9958591e481d5cd959606a1b60648201526084016102d1565b60405180608001604052808581526020018481526020018381526020016000815250600286604051610485919061158a565b9081526040805160209281900383019020600088815290835220825181559082015160018201906104b69082611682565b50604082015160028201906104cb9082611682565b50606082015181600301559050506001856040516104e9919061158a565b908152604051908190036020019020600301805490600061050983611742565b91905055508460405161051c919061158a565b60405180910390207ff89ee3c991da5c3e96d6e8ce3fc14916337e97a48ae8b39906e54de8f77790fc85858560405161055793929190611769565b60405180910390a25050505050565b600060608060008060028760405161057e919061158a565b90815260408051918290036020908101832060008a81529082528290206080840190925281548352600182018054918401916105b9906115a6565b80601f01602080910402602001604051908101604052809291908181526020018280546105e5906115a6565b80156106325780601f1061060757610100808354040283529160200191610632565b820191906000526020600020905b81548152906001019060200180831161061557829003601f168201915b5050505050815260200160028201805461064b906115a6565b80601f0160208091040260200160405190810160405280929190818152602001828054610677906115a6565b80156106c45780601f10610699576101008083540402835291602001916106c4565b820191906000526020600020905b8154815290600101906020018083116106a757829003601f168201915b5050509183525050600391909101546020918201528151908201516040830151606090930151919a90995091975095509350505050565b6060806000806000600186604051610713919061158a565b908152602001604051809103902060405180608001604052908160008201805461073c906115a6565b80601f0160208091040260200160405190810160405280929190818152602001828054610768906115a6565b80156107b55780601f1061078a576101008083540402835291602001916107b5565b820191906000526020600020905b81548152906001019060200180831161079857829003601f168201915b505050505081526020016001820180546107ce906115a6565b80601f01602080910402602001604051908101604052809291908181526020018280546107fa906115a6565b80156108475780601f1061081c57610100808354040283529160200191610847565b820191906000526020600020905b81548152906001019060200180831161082a57829003601f168201915b5050509183525050600282015460ff161515602080830191909152600390920154604091820152825191830151908301516060909301519199909850919650945092505050565b80516020818301810180516001825292820191909301209152805481906108b4906115a6565b80601f01602080910402602001604051908101604052809291908181526020018280546108e0906115a6565b801561092d5780601f106109025761010080835404028352916020019161092d565b820191906000526020600020905b81548152906001019060200180831161091057829003601f168201915b505050505090806001018054610942906115a6565b80601f016020809104026020016040519081016040528092919081815260200182805461096e906115a6565b80156109bb5780601f10610990576101008083540402835291602001916109bb565b820191906000526020600020905b81548152906001019060200180831161099e57829003601f168201915b505050506002830154600390930154919260ff1691905084565b6000546001600160a01b031633146109ff5760405162461bcd60e51b81526004016102d19061152d565b816000600182604051610a12919061158a565b9081526040519081900360200190208054610a2c906115a6565b905011610a4b5760405162461bcd60e51b81526004016102d1906115e0565b81600184604051610a5c919061158a565b908152604051908190036020018120600201805492151560ff1990931692909217909155610a8b90849061158a565b6040519081900381208315158252907f02bb9c550868a1621adaa2adbc8ceef17a3dbdc264f7e3a201c80d76a08431f49060200160405180910390a2505050565b6000600483604051610ade919061158a565b908152604080519182900360209081019092206001600160a01b03851660009081529252902054905092915050565b6000546001600160a01b03163314610b375760405162461bcd60e51b81526004016102d19061152d565b600182604051610b47919061158a565b9081526040519081900360200190208054610b61906115a6565b159050610bd65760405162461bcd60e51b815260206004820152603960248201527f456c656374696f6e20616c7265616479206578697374733a2043616e6e6f742060448201527f637265617465206475706c696361746520656c656374696f6e0000000000000060648201526084016102d1565b60405180608001604052808381526020018281526020016000151581526020016000815250600183604051610c0b919061158a565b90815260405190819003602001902081518190610c289082611682565b5060208201516001820190610c3d9082611682565b5060408281015160028301805460ff191691151591909117905560609092015160039091015551610c6f90839061158a565b60405180910390207f1594903932ed8f9b9f2f2bbc15a18c132591e2c4d3730ba56705aa661662f49c82604051610ca6919061179e565b60405180910390a25050565b6000826000600182604051610cc7919061158a565b9081526040519081900360200190208054610ce1906115a6565b905011610d005760405162461bcd60e51b81526004016102d1906115e0565b83600181604051610d11919061158a565b9081526040519081900360200190206002015460ff16610d995760405162461bcd60e51b815260206004820152603f60248201527f456c656374696f6e20636c6f7365643a205468697320656c656374696f6e206960448201527f73206e6f742063757272656e746c7920616363657074696e6720766f7465730060648201526084016102d1565b600385604051610da9919061158a565b9081526040805160209281900383019020336000908152925290205460ff1615610e3b5760405162461bcd60e51b815260206004820152603f60248201527f416c726561647920766f7465643a20596f75206861766520616c72656164792060448201527f6361737420796f757220766f746520696e207468697320656c656374696f6e0060648201526084016102d1565b83600286604051610e4c919061158a565b908152604080516020928190038301902060008881529252902054148015610e745750600084115b610ed95760405162461bcd60e51b815260206004820152603060248201527f496e76616c69642063616e6469646174653a20546869732063616e646964617460448201526f1948191bd95cc81b9bdd08195e1a5cdd60821b60648201526084016102d1565b600285604051610ee9919061158a565b9081526040805160209281900383019020600087815292528120600301805491610f1283611742565b91905055506001600386604051610f29919061158a565b9081526040805160209281900383018120336000818152918552928120805460ff191695151595909517909455610f6992899291899142914391016117b8565b60405160208183030381529060405280519060200120905080600487604051610f92919061158a565b908152604080519182900360209081018320336000818152919092529190912092909255610fc190889061158a565b6040805191829003822088835260208301859052917fd14876a99a93010041e3c38e9bcb555d48e260c82cdb524a4654d88fd1f173fc910160405180910390a395945050505050565b81516020818401810180516002825292820194820194909420919093529091526000908152604090208054600182018054919291611047906115a6565b80601f0160208091040260200160405190810160405280929190818152602001828054611073906115a6565b80156110c05780601f10611095576101008083540402835291602001916110c0565b820191906000526020600020905b8154815290600101906020018083116110a357829003601f168201915b5050505050908060020180546110d5906115a6565b80601f0160208091040260200160405190810160405280929190818152602001828054611101906115a6565b801561114e5780601f106111235761010080835404028352916020019161114e565b820191906000526020600020905b81548152906001019060200180831161113157829003601f168201915b5050505050908060030154905084565b6000600383604051611170919061158a565b908152604080519182900360209081019092206001600160a01b0385166000908152925290205460ff16905092915050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126111c957600080fd5b813567ffffffffffffffff808211156111e4576111e46111a2565b604051601f8301601f19908116603f0116810190828211818310171561120c5761120c6111a2565b8160405283815286602085880101111561122557600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806000806080858703121561125b57600080fd5b843567ffffffffffffffff8082111561127357600080fd5b61127f888389016111b8565b955060208701359450604087013591508082111561129c57600080fd5b6112a8888389016111b8565b935060608701359150808211156112be57600080fd5b506112cb878288016111b8565b91505092959194509250565b600080604083850312156112ea57600080fd5b823567ffffffffffffffff81111561130157600080fd5b61130d858286016111b8565b95602094909401359450505050565b60005b8381101561133757818101518382015260200161131f565b50506000910152565b6000815180845261135881602086016020860161131c565b601f01601f19169290920160200192915050565b8481526080602082015260006113856080830186611340565b82810360408401526113978186611340565b91505082606083015295945050505050565b600080604083850312156113bc57600080fd5b823567ffffffffffffffff8111156113d357600080fd5b6113df858286016111b8565b92505060208301356001600160a01b03811681146113fc57600080fd5b809150509250929050565b60006020828403121561141957600080fd5b813567ffffffffffffffff81111561143057600080fd5b61143c848285016111b8565b949350505050565b6080815260006114576080830187611340565b82810360208401526114698187611340565b941515604084015250506060015292915050565b6000806040838503121561149057600080fd5b823567ffffffffffffffff8111156114a757600080fd5b6114b3858286016111b8565b925050602083013580151581146113fc57600080fd5b600080604083850312156114dc57600080fd5b823567ffffffffffffffff808211156114f457600080fd5b611500868387016111b8565b9350602085013591508082111561151657600080fd5b50611523858286016111b8565b9150509250929050565b6020808252603a908201527f4163636573732064656e6965643a204f6e6c7920636f6e7472616374206f776e60408201527f65722063616e20706572666f726d207468697320616374696f6e000000000000606082015260800190565b6000825161159c81846020870161131c565b9190910192915050565b600181811c908216806115ba57607f821691505b6020821081036115da57634e487b7160e01b600052602260045260246000fd5b50919050565b60208082526033908201527f456c656374696f6e206e6f7420666f756e643a205468697320656c656374696f6040820152721b88125108191bd95cc81b9bdd08195e1a5cdd606a1b606082015260800190565b601f82111561167d57600081815260208120601f850160051c8101602086101561165a5750805b601f850160051c820191505b8181101561167957828155600101611666565b5050505b505050565b815167ffffffffffffffff81111561169c5761169c6111a2565b6116b0816116aa84546115a6565b84611633565b602080601f8311600181146116e557600084156116cd5750858301515b600019600386901b1c1916600185901b178555611679565b600085815260208120601f198616915b82811015611714578886015182559484019460019091019084016116f5565b50858210156117325787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006001820161176257634e487b7160e01b600052601160045260246000fd5b5060010190565b8381526060602082015260006117826060830185611340565b82810360408401526117948185611340565b9695505050505050565b6020815260006117b16020830184611340565b9392505050565b600086516117ca818460208b0161131c565b60609690961b6bffffffffffffffffffffffff1916919095019081526014810193909352603483019190915260548201526074019291505056fea2646970667358221220478391d217648a91cd71adfa41d2e2614fb4d1eebe4297285df16b5ff073b5a264736f6c63430008130033"
}
